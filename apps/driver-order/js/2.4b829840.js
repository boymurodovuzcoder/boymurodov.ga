(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1230:function(e,t,i){"use strict";var a=i("83fe"),r=i.n(a);r.a},5509:function(e,t,i){"use strict";var a=i("9c5d"),r=i.n(a);r.a},"83fe":function(e,t,i){},"8b24":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"q-app"}},[i("q-dialog",{attrs:{persistent:""},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}},[i("q-card",{staticStyle:{"min-width":"350px"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Your name")])]),i("q-card-section",{staticClass:"q-pt-none"},[i("q-input",{attrs:{dense:"",autofocus:""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.prompt=!1}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),i("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"enter your name"},on:{click:function(t){return e.nameEntered()}}})],1)],1)],1),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.showBackButton,expression:"!showBackButton"}],attrs:{id:"add1"},on:{click:function(t){e.addSelected=!0}}},[e._v("Add Order")]),e.addSelected?i("div",[i("addOrder")],1):e.selected?i("div",[i("selectedRoute",{attrs:{pickup_date:e.selectedOrder.pickup_date,origin:e.selectedOrder.origin,destination:e.selectedOrder.destination,equip:e.selectedOrder.equip,weight:e.selectedOrder.weight,price:e.selectedOrder.price}})],1):e._l(e.orders,(function(t,a){return i("div",{key:t.id,staticClass:"wrap",on:{click:function(t){return e.select(a)}}},[i("div",{staticClass:"top"},[i("div",{staticClass:"age"},[i("p",[e._v("Created:")]),i("span",[e._v("  "+e._s(t.age))])]),i("div",{staticClass:"date"},[i("p",[e._v("Pickup date:")]),i("span",[e._v("  "+e._s(t.pickup_date))])])]),i("hr"),i("div",{staticClass:"main"},[i("div",{staticClass:"points"},[i("h6",[e._v(e._s(t.origin))]),e._m(0,!0),i("h6",[e._v(e._s(t.destination))])]),i("div",{staticClass:"info"},[i("p",[e._v("Weight: "),i("span",[e._v(" "+e._s(t.weight))])]),i("p",[e._v("Equip.: "),i("span",[e._v(" "+e._s(t.equip))])]),i("p",[e._v("Price: "),i("span",[e._v(" "+e._s(t.price))])])])]),i("hr"),i("div",{staticClass:"footer"},[i("div",[i("p",[e._v("Broker:")]),i("h6",[e._v(e._s(e.name))])]),i("button",{on:{click:function(t){return t.stopPropagation(),e.call()}}},[e._v("Call")])])])})),i("button",{directives:[{name:"show",rawName:"v-show",value:e.showBackButton,expression:"showBackButton"}],attrs:{id:"back"},on:{click:function(t){return e.back()}}},[i("i",{staticClass:"fas fa-chevron-left"}),e._v("  Back")])],2)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticStyle:{"text-align":"center"}},[i("i",{staticClass:"fas fa-arrow-down"}),i("i",{staticClass:"fas fa-arrow-down"}),i("i",{staticClass:"fas fa-arrow-down"})])}],n=i("ded3"),s=i.n(n),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"q-app"}},[i("span",{staticStyle:{"text-align":"right","padding-top":"10px"}},[e._v("Created: 30m")]),i("div",{attrs:{id:"map"}}),i("div",{staticClass:"info"},[i("span",{staticStyle:{"font-weight":"500"}},[e._v(e._s(e.pickup_date))]),i("h6",{attrs:{id:"origin"}},[i("i",{staticClass:"fas fa-arrow-circle-up"}),e._v(" "+e._s(e.origin))]),e._m(0),i("h6",{attrs:{id:"destination"}},[i("i",{staticClass:"fas fa-arrow-circle-down"}),e._v(" "+e._s(e.destination))])]),i("hr"),i("p",{staticStyle:{"font-size":"18px","font-weight":"400",padding:"10px 0"}},[e._v(e._s(e.equip))]),i("div",{staticClass:"more"},[i("div",[i("span",[e._v("weight")]),i("p",[e._v(e._s(e.weight))])]),e._m(1),i("div",[i("span",[e._v("price")]),i("p",[e._v(e._s(e.price))])])]),i("hr"),i("div",{staticClass:"footer"},[i("div",[i("span",[e._v("Broker")]),i("h6",[e._v(e._s(e.name))])]),e._m(2),e._m(3)])])},d=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("span",{attrs:{id:"distance"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",[e._v("size")]),i("p",[e._v("Full")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",[e._v("Phone")]),i("h6",[e._v("+123456789")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",[i("i",{staticClass:"fas fa-phone"})])}],c=i("18d6"),l={name:"driverMapMobile",props:["pickup_date","origin","destination","weight","price","equip"],mounted:function(){this.initMap()},data(){return{watchId:""}},computed:{name(){return c["a"].getItem("userName")}},beforeDestroy(){console.log("beforeDestroy"),console.log(this.watchId),navigator.geolocation.clearWatch(this.watchId),console.log("cleared - ",this.watchId)},methods:{initMap(){var e=this;const t=new google.maps.LatLngBounds,i=document.getElementById("origin").innerText,a=document.getElementById("destination").innerText,r=document.getElementById("distance");var n=new google.maps.Map(document.getElementById("map"),{center:{lat:41.377491,lng:69.585258},zoom:14}),s=new google.maps.Geocoder,o=new google.maps.DistanceMatrixService;o.getDistanceMatrix({origins:[i],destinations:[a],travelMode:"DRIVING",unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},(function(e,i){if("OK"!==i)alert("Error was: "+i);else{var a=e.originAddresses,o=e.destinationAddresses;const i=function(e){return function(e,i){"OK"===i?n.fitBounds(t.extend(e[0].geometry.location)):alert("Geocode was not successful due to: "+i)}};for(var d=0;d<a.length;d++){var c=e.rows[d].elements;s.geocode({address:a[d]},i(!1));for(var l=0;l<c.length;l++)s.geocode({address:o[l]},i(!0)),r.innerHTML+='<i class="fas fa-arrow-down"></i> <b>'+c[l].distance.text+"</b> in <b>"+c[l].duration.text+'</b> <i class="fas fa-arrow-up"></i> <br>'}}}));var d,c=!1,l="";function p(e){var t=e.coords.latitude,i=e.coords.longitude,a={lat:t,lng:i};c?(l.setPosition(a),console.log("location detected again")):l=new google.maps.Marker({position:a,map:n,draggable:!0,icon:{path:google.maps.SymbolPath.CIRCLE,scale:5,strokeColor:"#3333FF",strokeWeight:5,fillColor:"blue"}}),c=!0;var r=new google.maps.InfoWindow({content:"your location"});l.addListener("click",(function(){r.open(n,l),n.panTo(this.getPosition()),n.setZoom(13)}));var s=new google.maps.Circle({map:n,radius:100,fillColor:"#2098d9",strokeColor:"#317bb9",strokeOpacity:.6,strokeWeight:1});s.bindTo("center",l,"position")}function u(e){1==e.code?alert("Error: Access is denied!"):2==e.code&&alert("Error: Position is unavailable!")}function m(){if(navigator.geolocation){var t={timeout:1e3};d=navigator.geolocation,e.watchId=d.watchPosition(p,u,t)}else alert("Sorry, browser does not support geolocation!")}m();const g=new google.maps.DirectionsRenderer,v=new google.maps.DirectionsService;function h(e,t){e.route({origin:i,destination:a,travelMode:"DRIVING"},(e,i)=>{"OK"===i?t.setDirections(e):window.alert("Directions request failed due to "+i)})}g.setMap(n),h(v,g)}}},p=l,u=(i("5509"),i("2877")),m=Object(u["a"])(p,o,d,!1,null,null,null),g=m.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wrap"}},[i("div",{attrs:{id:"inputs"}},[i("br"),i("p",[i("label",{attrs:{for:"age"}},[e._v("Age: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.age,expression:"age"}],attrs:{type:"text",id:"age",placeholder:"Created at"},domProps:{value:e.age},on:{input:function(t){t.target.composing||(e.age=t.target.value)}}})]),i("br"),i("p",[i("label",{attrs:{for:"pickup_date"}},[e._v("Pickup date: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pickup_date,expression:"pickup_date"}],attrs:{type:"date",id:"pickup_date",placeholder:"Pickup date"},domProps:{value:e.pickup_date},on:{input:function(t){t.target.composing||(e.pickup_date=t.target.value)}}})]),i("br"),e._m(0),i("br"),e._m(1),i("br"),i("p",[i("label",{attrs:{for:"weight"}},[e._v("Weight: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.weight,expression:"weight"}],attrs:{type:"text",id:"weight",placeholder:"Weight of load"},domProps:{value:e.weight},on:{input:function(t){t.target.composing||(e.weight=t.target.value)}}})]),i("br"),i("p",[i("label",{attrs:{for:"equip"}},[e._v("Equipment: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.equip,expression:"equip"}],attrs:{type:"text",id:"equip",placeholder:"Type of load"},domProps:{value:e.equip},on:{input:function(t){t.target.composing||(e.equip=t.target.value)}}})]),i("br"),i("p",[i("label",{attrs:{for:"price"}},[e._v("Price: ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],attrs:{type:"number",id:"price",min:"20",step:"5",placeholder:"Price"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})])]),i("p",{staticStyle:{color:"red",display:"none"},attrs:{id:"required"}},[e._v("\n    All fields are required!\n  ")]),i("p",{staticStyle:{color:"green",display:"none"},attrs:{id:"success"}},[e._v("\n    Successfully added\n  ")]),i("br"),i("button",{attrs:{id:"add2"},on:{click:function(t){return e.validate()}}},[e._v("Add new order")])])},h=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("label",{attrs:{for:"placeOrigin"}},[e._v("Enter origin: ")]),i("input",{attrs:{id:"placeOrigin",type:"text",placeholder:"Origin"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[i("label",{attrs:{for:"placeDestination"}},[e._v("Enter destination: ")]),i("input",{attrs:{id:"placeDestination",type:"text",placeholder:"Destination"}})])}],f=i("2f62"),_={name:"addOrder",data(){return{age:"",pickup_date:"",weight:"",equip:"",price:""}},computed:s()({},Object(f["c"])("orders",["orders","id"])),mounted(){let e=document.getElementById("inputs");e.addEventListener("click",(function(){document.getElementById("required").style.display="none",document.getElementById("success").style.display="none"}));const t=document.getElementById("placeOrigin"),i=new google.maps.places.Autocomplete(t);i.setFields(["address_components","geometry","icon","name"]);const a=document.getElementById("placeDestination"),r=new google.maps.places.Autocomplete(a);r.setFields(["address_components","geometry","icon","name"])},methods:s()(s()({},Object(f["b"])("orders",["addOrder","setId"])),{},{validate(){let e=document.getElementById("placeOrigin").value,t=document.getElementById("placeDestination").value,i={age:this.age,pickup_date:this.pickup_date,origin:e,destination:t,weight:this.weight,equip:this.equip,price:this.price};for(var a in i)if(""===i[a])return void(document.getElementById("required").style.display="block");this.setId(),i.id=this.id,this.addOrder(i);let r=c["a"].getItem("userName");c["a"].clear(),c["a"].set("beforeEntered","true"),c["a"].set("orders",JSON.stringify(this.orders)),c["a"].set("userName",r),document.getElementById("success").style.display="block",this.age="",this.pickup_date="",document.getElementById("placeOrigin").value="",document.getElementById("placeDestination").value="",this.weight="",this.weight="",this.equip="",this.price=""}})},w=_,b=(i("1230"),Object(u["a"])(w,v,h,!1,null,"2778be82",null)),k=b.exports,y={name:"driverOrderMobile",components:{selectedRoute:g,addOrder:k},data(){return{selected:!1,selectedOrder:0,addSelected:!1,prompt:!1,userName:""}},mounted(){try{if("true"!==c["a"].getItem("beforeEntered")){console.log("welcome!"),this.prompt=!0;const e=[{age:"32m",pickup_date:"8 Sep",origin:"Samarqand",destination:"Toshkent",weight:"12k",equip:"Tanker",price:"$ 100",id:2},{age:"45m",pickup_date:"7 Sep",origin:"Urganch",destination:"Buxoro",weight:"15k",equip:"Container",price:"$ 80",id:1},{age:"50m",pickup_date:"9 Sep",origin:"Qarshi",destination:"Termiz",weight:"10k",equip:"Tanker",price:"$ 75",id:0}];c["a"].set("beforeEntered","true"),c["a"].set("orders",JSON.stringify(e)),this.setOrder(e)}else{const e=JSON.parse(c["a"].getItem("orders"));this.setOrder(e)}}catch(e){console.log("error ocured: "),console.log("error ",e)}},computed:s()(s()({},Object(f["c"])("orders",["orders"])),{},{showBackButton(){return this.addSelected||this.selected},name(){return this.userName?this.userName:c["a"].getItem("userName")}}),methods:s()(s()({nameEntered(){c["a"].set("userName",this.userName)},select(e){console.log(e),this.selectedOrder=this.orders[e],this.selected=!0}},Object(f["b"])("orders",["setOrder"])),{},{call(){console.log("call..")},back(){this.selected=!1,this.addSelected=!1}})},E=y,C=(i("9a12"),i("24e8")),O=i("f09f"),q=i("a370"),I=i("27f9"),x=i("4b7e"),B=i("9c40"),S=i("7f67"),N=i("eebe"),P=i.n(N),D=Object(u["a"])(E,a,r,!1,null,"01051ca4",null);t["default"]=D.exports;P()(D,"components",{QDialog:C["a"],QCard:O["a"],QCardSection:q["a"],QInput:I["a"],QCardActions:x["a"],QBtn:B["a"]}),P()(D,"directives",{ClosePopup:S["a"]})},"9a12":function(e,t,i){"use strict";var a=i("be5d"),r=i.n(a);r.a},"9c5d":function(e,t,i){},be5d:function(e,t,i){}}]);